BACI System: BenAri Pascal PCODE Compiler, 12:29  18 Jul 2004
Source file: C:\Users\bu0532\jbaci\examples\lab6_2.pm  Wed Jun 19 15:58:18 2024
 line  pc
   1    0  Program Suspension;
   2    0  MONITOR PC;
   3    0  CONST nmrProcesos = 20;
   4    0  VAR i:INTEGER;
   5    0      delayed:array[0..nmrProcesos] of BOOLEAN;
   6    0      time:array[0..nmrProcesos] of INTEGER;
   7    0      cond:array[0..nmrProcesos] of CONDITION;
   8    0  
   9    0  PROCEDURE oneSecondHasPassed;
  10    0  VAR i:INTEGER;
  11    0  BEGIN
  12    1      FOR i:=1 TO nmrProcesos DO
  13    5      IF delayed[i] THEN BEGIN
  14   10          time[i] := time[i] - 1;
  15   20          IF time[i] = 0 THEN BEGIN
  16   27              delayed[i] := false;
  17   32              SIGNALC(cond[i]);
  18   36          END;
  19   36      END;
  20   37  END;
  21   39  
  22   39  PROCEDURE delayMe(myself: INTEGER; interval: INTEGER);
  23   39  BEGIN
  24   40      delayed[myself] := true;
  25   45      time[myself] := interval;
  26   50      WAITC(cond[myself]);
  27   55  END;
  28   57  
  29   57  BEGIN (*monitor*)
  30   57      FOR i:= 0 TO nmrProcesos DO BEGIN
  31   61      delayed[i] := false;
  32   66      time[i] := 0;
  33   71      END;
  34   72  END;
  35   73  
  36   73  VAR i:INTEGER;
  37   73  currentTime:INTEGER := 0;
  38   73  output:BINARYSEM := 1;
  39   73  
  40   73  PROCEDURE clock;
  41   73  VAR i,j:INTEGER;
  42   73  
  43   73  BEGIN
  44   73      FOR i := 1 to 10 DO
  45   77      	FOR j := 1 to 200 DO
  46   81      		currentTime := currentTime + 1;
  47   88      		WAIT(output);
  48   90      		    writeln("1 second passed. CurrentTime: ", currentTime, " seconds.");
  49   95     		SIGNAL(output);
  50   97  		oneSecondHasPassed;
  51  100      		END;
  52  101  	END;
Error near 'END', line 52 of file C:\Users\bu0532\jbaci\examples\lab6_2.pm:
**   syntax error 
Because of 1 error the PCODE file will not execute
